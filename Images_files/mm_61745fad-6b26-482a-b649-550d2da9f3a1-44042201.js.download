"use strict";(()=>{function t(t,e=100,a=1e3){return new Promise(async r=>{const[o,n]=await t();o&&r([!0,n]);const i=(new Date).valueOf(),c=setInterval(async()=>{const[e,o]=await t();e&&(clearInterval(c),r([!0,o])),(new Date).valueOf()>i+a&&(clearInterval(c),r([!1,null]))},e)})}function e(t){return t?t.startsWith("http://")||t.startsWith("https://")?t:t.startsWith("//")?window.location.protocol+t:"https://"+t:""}function a(t){return t?t.replace(/_\d+x\d+\.(jpg|jpeg|png|webp)/g,".$1"):""}function r(t,r){let o=t.totalPrice.currencyCode,n=t.totalPrice.amount;const i=t.lineItems;let c=0;const s=i.map(t=>{var o;c+=t.variant.price.amount*t.quantity;const n=t.variant.product.title+(t.variant.title?" - "+t.variant.title:"");return{id:t.variant.product.id,variantId:t.variant.id,sku:t.variant.sku,quantity:t.quantity,itemPrice:t.variant.price.amount,title:n,brand:t.variant.product.vendor||"",category:t.variant.product.type||"",image:a(e(null==(o=t.variant.image)?void 0:o.src)),url:r+t.variant.product.url,type:"product"}});return i.length&&o!==i[0].variant.price.currencyCode&&(o=i[0].variant.price.currencyCode,n=c),{currency:o,value:n,contents:s}}async function o(t,e){const a=t.data.cartLine.cost.totalAmount,r=t.data.cartLine,o=r.quantity,n=r.merchandise,i=t.context.document.location.origin,c=(await e.localStorage.getItem("cartToken")||"").replace(/"/g,"");return{cost:a,quantity:o,item:n,origin:i,checkoutUrl:c?i+"/checkouts/cn/"+c:""}}function n(t){return t.product.title||t.title}function i(){const t=window.xrayShopify.analytics,i=window.xrayShopify.browser,c=(t,e)=>{if(window.xrayData)window.xrayData("event",t,"shopify",e);else{const a=["event",t,"shopify",e];a.timestamp=Date.now(),window.xrayDataLayer.push(a)}};t.subscribe("product_removed_from_cart",async t=>{var r,s,u,l;const{cost:d,quantity:y,item:p,origin:m,checkoutUrl:w}=await o(t,i);((null==(r=null==p?void 0:p.product)?void 0:r.id)||(null==p?void 0:p.id))&&(null==(s=null==p?void 0:p.price)?void 0:s.amount)&&(null==d?void 0:d.amount)&&c("RemoveFromCart",{currency:d.currencyCode,value:y<0?p.price.amount:d.amount,contents:[{id:p.product.id,variantId:p.id,sku:p.sku,quantity:y<0?1:y,itemPrice:p.price.amount,title:n(p),image:a(e(null==(u=p.image)?void 0:u.src)),brand:p.product.vendor||"",category:p.product.type||"",url:(null==(l=p.product)?void 0:l.url)?m+p.product.url:"",type:"product"}],checkoutUrl:w})}),t.subscribe("product_added_to_cart",async t=>{var r,o,s;const u=t.data.cartLine.cost.totalAmount,l=t.data.cartLine.merchandise,d=n(l),y=(await i.localStorage.getItem("cartToken")||"").replace(/"/g,"");let p="";y&&(p=t.context.document.location.origin+"/checkouts/cn/"+y),((null==(r=null==l?void 0:l.product)?void 0:r.id)||(null==l?void 0:l.id))&&(null==(o=null==l?void 0:l.price)?void 0:o.amount)&&(null==u?void 0:u.amount)&&c("AddToCart",{currency:u.currencyCode,value:t.data.cartLine.quantity<0?l.price.amount:u.amount,contents:[{id:l.product.id,variantId:l.id,sku:l.sku,quantity:t.data.cartLine.quantity<0?1:t.data.cartLine.quantity,itemPrice:l.price.amount,title:d,variantTitle:l.title,image:a(e(null==(s=l.image)?void 0:s.src)),brand:l.product.vendor||"",category:l.product.type||"",url:t.context.document.location.origin+l.product.url,type:"product"}],checkoutUrl:p})}),t.subscribe("checkout_started",t=>{const e=t.data.checkout;c("InitiateCheckout",h(g({},r(e,t.context.document.location.origin)),{checkoutUrl:t.context.document.location.href,address:e.shippingAddress,locale:e.localization.language.isoCode}))}),t.subscribe("payment_info_submitted",t=>{const e=t.data.checkout;c("AddPaymentInfo",{currency:e.totalPrice.currencyCode,value:e.totalPrice.amount})}),t.subscribe("checkout_completed",t=>{const e=t.data.checkout,a=e.order.id.toString().replace("gid://shopify/OrderIdentity/","");c("Purchase",h(g({},r(e,t.context.document.location.origin)),{orderId:a,eventId:a,address:e.shippingAddress,locale:e.localization.language.isoCode}))}),t.subscribe("search_submitted",t=>{var e;c("Search",{url:t.context.document.location.href,search:(null==(e=t.data.searchResult)?void 0:e.query)||""})}),t.subscribe("page_viewed",t=>{const e=t.context.document.location.href;e.includes("/checkouts/")&&c("PageView",{url:e})}),t.subscribe("product_viewed",t=>{var r;const o=t.data.productVariant,i=n(o);c("ViewContent",{currency:o.price.currencyCode,value:o.price.amount,contents:[{id:o.product.id,variantId:o.id,sku:o.sku,quantity:1,itemPrice:o.price.amount,title:i,image:a(e(null==(r=o.image)?void 0:r.src)),brand:o.product.vendor||"",category:o.product.type||"",url:t.context.document.location.href,type:"product"}]})}),t.subscribe("collection_viewed",t=>{const e=t.data.collection;c("ViewCollection",{url:t.context.document.location.href,id:e.id,title:e.title})})}async function c(){window.xrayDataLayer=window.xrayDataLayer||[],i();let e="";const a=async()=>{const t=await window.xrayShopify.browser.localStorage.getItem(x),e=await window.xrayShopify.browser.localStorage.getItem(k);if(t&&e){const a=t.split("|");if(2===a.length){const t=a[0],r=parseInt(a[1]),o=parseInt(e);if(r&&o&&r>=o)return[!0,t]}}return[!1,null]},[r,o]=await t(a,100,2e3);r&&U(e=o)}var s,u,l=Object.defineProperty,d=Object.defineProperties,y=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,v=(t,e,a)=>e in t?l(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,g=(t,e)=>{for(var a in e||(e={}))m.call(e,a)&&v(t,a,e[a]);if(p)for(var a of p(e))w.call(e,a)&&v(t,a,e[a]);return t},h=(t,e)=>d(t,y(e)),f="https://t.mm-uxrv.com",b={is:0,starts_with:1,ends_with:2,contains:3,does_not_contain:4,is_not:5,"*":6},k="__cai_sts",x="__cai_lu",S=!0;try{(s=!!sessionStorage.getItem("MobileMonkeySessionActive"))||(sessionStorage.setItem("MobileMonkeySessionActive","1"),0===(u=Number(localStorage.getItem("MobileMonkeyVisitCount")))&&sessionStorage.setItem("MobileMonkeyNewVisitor","1"),localStorage.setItem("MobileMonkeyVisitCount",String(u+1))),S=!s,!!sessionStorage.getItem("MobileMonkeyNewVisitor")}catch($){}var _="__xray_c",I="__xray_n",P="__xray_v",O={views:Number(localStorage.getItem(P)||0)+1,clicks:Number(localStorage.getItem(_)||0),sessions:Number(localStorage.getItem(I)||0)+(S?1:0)};localStorage.setItem(P,String(O.views)),localStorage.setItem(I,String(O.sessions));var D="__xray_sax",C=10,L=50,j=1024,q=2048,M=(Date.now(),localStorage.getItem(D),t=>fetch(`${f}/x/sax`,{method:"POST",headers:{"Content-Type":"application/json"},referrerPolicy:"no-referrer-when-downgrade",body:JSON.stringify(t),keepalive:!0})),T=t=>fetch(`${f}/x/saxv`,{method:"POST",headers:{"Content-Type":"application/json"},referrerPolicy:"no-referrer-when-downgrade",body:JSON.stringify(t),keepalive:!0}),N=t=>fetch(`${f}/x/saxe`,{method:"POST",headers:{"Content-Type":"application/json"},referrerPolicy:"no-referrer-when-downgrade",body:JSON.stringify(t),keepalive:!0}),A=0,V=0,J=0,U=t=>{window.xrayDataLayer=window.xrayDataLayer||[];for(var e=0;e<window.xrayDataLayer.length;e++)window.xrayDataLayer[e].timestamp=window.xrayDataLayer[e].timestamp||Date.now()+e;const a=()=>{for(const e of window.xrayDataLayer.filter(t=>t.timestamp>A)){switch(e[0]){case"page_view":M({u:t,ref:e[1]});break;case"event":if(++J>L)break;if(JSON.stringify(e[1]).length>q)break;N({u:t,e:e[1],s:e[2],p:e[3],ref:e[4]});break;case"set_attribute":if(++V>C)break;if(String(e[2]).length>j)break;T({u:t,k:e[1],v:e[2]})}A=e.timestamp}};window.xrayData=((...t)=>{t.timestamp=Date.now(),window.xrayDataLayer.push(t),a()}),a()};window.xrayShopify=window.xrayShopify||{},function(){var t;if(null!=(t=window.xrayShopify)&&t.analytics)c();else{window.mmGlobalJSTimestamp="2024-10-05T02:55:20Z",window.localStorage.setItem(k,(new Date).valueOf().toString());Object.keys(b).map(function(){return[]}),Object.keys(b).map(function(){return[]})}}()})();